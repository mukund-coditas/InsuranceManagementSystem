@model IEnumerable<MiniProject_InsuranceManagementSystem.Models.Insurance>

@{
    ViewBag.Title = "PurchaseNewInsurance";
}

<h2>Suggested Plans</h2>

<table class="table table-dark table-striped">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.InsuranceType)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.SubType)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Amount)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.YearlyPremium)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.InsuranceProvider)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.ReleaseDate)
        </th>
        <th>
            Buy it
        </th>
    </tr>

@foreach (var item in Model)
{
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.InsuranceType)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.SubType)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Amount)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.YearlyPremium)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.InsuranceProvider)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.ReleaseDate)
        </td>
        <td>
            @using (Html.BeginForm("ConfirmationOfInsurancePurchase", "User"))
            {  
                <button type="submit" name="InsuranceId" class="btn btn-primary btn-md btn-block" style="margin-top:1.4rem" value=@item.InsuranceId>Purchase</button>
            }

        </td>
        
    </tr >
}


</table>
